<script>
        createVideo();
        function extractVideoID(url){
            var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
            var match = url.match(regExp);
            if ( match && match[7].length == 11 ){
                return match[7];
            }else{
                alert("No se pudo encontrar el video relacionado");
            }
        }

      function createVideo(){
      $('#modalBody').append('<iframe id="ytplayer" type="text/html" width="640" height="360" src="http://www.youtube.com/embed/'+ extractVideoID(document.getElementById('linkVideo').value)+'"frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen/>');
      }
      function stopVideo() {
        $('#ytplayer').remove();
      }


    </script>
<div class="modal-dialog modal-lg" >
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Video / Comentarios</h5>
            <button aria-label="Close" class="close" data-dismiss="modal" onclick="stopVideo()" type="button">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            {% csrf_token %}
            <div class="panel panel-default">
                <div class="panel-body" id="modalBody" align="center">

                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="col-lg-12 text-right">
                <button class="btn btn-default" onclick="stopVideo();cerrar_modal();" type="button">
                    Cancelar
                </button>
            </div>
        </div>
    </div>
</div>
